<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Acquire</title>
    <script type="module">
      import { minidenticonSvg } from "https://cdn.jsdelivr.net/npm/minidenticons@4.2.0/minidenticons.min.js";
    </script>
    <link rel="stylesheet" href="/styles/style.css" />
    <link rel="stylesheet" href="/styles/game.css" />
    <link rel="stylesheet" href="/styles/players.css" />
    <link rel="stylesheet" href="/styles/display-panel.css" />
    <script src="/scripts/utils.js"></script>
    <script src="/scripts/purchase.js"></script>
    <script src="/scripts/game.js" type="module"></script>
  </head>

  <body>
    <div id="root">
      <header id="game-header">
        <div id="game-title">ACQUIRE</div>
      </header>
      <section id="corporation-section">
        <header>
          <p>CORPORATION</p>
          <div id="info-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 50 50"
              width="25px"
              height="25px"
              fill="#d0d0d0"
            >
              <path
                d="M 25 2 C 12.309295 2 2 12.309295 2 25 C 2 37.690705 12.309295 48 25 48 C 37.690705 48 48 37.690705 48 25 C 48 12.309295 37.690705 2 25 2 z M 25 4 C 36.609824 4 46 13.390176 46 25 C 46 36.609824 36.609824 46 25 46 C 13.390176 46 4 36.609824 4 25 C 4 13.390176 13.390176 4 25 4 z M 25 11 A 3 3 0 0 0 22 14 A 3 3 0 0 0 25 17 A 3 3 0 0 0 28 14 A 3 3 0 0 0 25 11 z M 21 21 L 21 23 L 22 23 L 23 23 L 23 36 L 22 36 L 21 36 L 21 38 L 22 38 L 23 38 L 27 38 L 28 38 L 29 38 L 29 36 L 28 36 L 27 36 L 27 21 L 26 21 L 22 21 L 21 21 z"
              />
            </svg>
          </div>
        </header>
        <div id="corporations">
          <div class="corporation" id="phoenix">
            <div class="name">Phoenix</div>
            <div class="info">
              <div class="icon">
                <img src="/images/phoenix.png" alt="phoenix" />
              </div>
              <div class="details">
                <div class="stat"><span class="stat-label">Stock</span><span class="stocks">25</span></div>
                <div class="stat"><span class="stat-label">Size</span><span class="size">0</span></div>
                <div class="stat"><span class="stat-label">Price</span><span class="price">$0</span></div>
              </div>
            </div>
          </div>
          <div class="corporation" id="quantum">
            <div class="name">Quantum</div>
            <div class="info">
              <div class="icon">
                <img src="/images/quantum.png" alt="quantum" />
              </div>
              <div class="details">
                <div class="stat"><span class="stat-label">Stock</span><span class="stocks">25</span></div>
                <div class="stat"><span class="stat-label">Size</span><span class="size">0</span></div>
                <div class="stat"><span class="stat-label">Price</span><span class="price">$0</span></div>
              </div>
            </div>
          </div>
          <div class="corporation" id="hydra">
            <div class="name">Hydra</div>
            <div class="info">
              <div class="icon">
                <img src="/images/hydra.png" alt="hydra" />
              </div>
              <div class="details">
                <div class="stat"><span class="stat-label">Stock</span><span class="stocks">25</span></div>
                <div class="stat"><span class="stat-label">Size</span><span class="size">0</span></div>
                <div class="stat"><span class="stat-label">Price</span><span class="price">$0</span></div>
              </div>
            </div>
          </div>
          <div class="corporation" id="fusion">
            <div class="name">Fusion</div>
            <div class="info">
              <div class="icon">
                <img src="/images/fusion.png" alt="fusion" />
              </div>
              <div class="details">
                <div class="stat"><span class="stat-label">Stock</span><span class="stocks">25</span></div>
                <div class="stat"><span class="stat-label">Size</span><span class="size">0</span></div>
                <div class="stat"><span class="stat-label">Price</span><span class="price">$0</span></div>
              </div>
            </div>
          </div>
          <div class="corporation" id="america">
            <div class="name">America</div>
            <div class="info">
              <div class="icon">
                <img src="/images/america.png" alt="america" />
              </div>
              <div class="details">
                <div class="stat"><span class="stat-label">Stock</span><span class="stocks">25</span></div>
                <div class="stat"><span class="stat-label">Size</span><span class="size">0</span></div>
                <div class="stat"><span class="stat-label">Price</span><span class="price">$0</span></div>
              </div>
            </div>
          </div>
          <div class="corporation" id="sackson">
            <div class="name">Sackson</div>
            <div class="info">
              <div class="icon">
                <img src="/images/sackson.png" alt="sackson" />
              </div>
              <div class="details">
                <div class="stat"><span class="stat-label">Stock</span><span class="stocks">25</span></div>
                <div class="stat"><span class="stat-label">Size</span><span class="size">0</span></div>
                <div class="stat"><span class="stat-label">Price</span><span class="price">$0</span></div>
              </div>
            </div>
          </div>
          <div class="corporation" id="zeta">
            <div class="name">Zeta</div>
            <div class="info">
              <div class="icon">
                <img src="/images/zeta.png" alt="zeta" />
              </div>
              <div class="details">
                <div class="stat"><span class="stat-label">Stock</span><span class="stocks">25</span></div>
                <div class="stat"><span class="stat-label">Size</span><span class="size">0</span></div>
                <div class="stat"><span class="stat-label">Price</span><span class="price">$0</span></div>
              </div>
            </div>
          </div>
        </div>
        <section id="voice-controls">
          <button id="voice-toggle" title="Toggle microphone">
            <svg class="voice-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
              <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
            </svg>
            <span class="voice-label">Mic</span>
          </button>
          <span class="voice-status">MIC OFF</span>
        </section>
      </section>
      <section id="portfolio-section">
        <header class="portfolio-header">PORTFOLIO</header>
        <section id="portfolio">
          <section class="balance" id="balance-container">
            <header class="label">BALANCE</header>
            <div class="amount">0</div>
          </section>
          <section class="stocks">
            <header>STOCKS</header>
            <div id="stocks-container">
              <div class="stock phoenix" id="phoenix-stock">
                <div class="quantity flex"></div>
              </div>
              <div class="stock quantum" id="quantum-stock">
                <div class="quantity flex"></div>
              </div>
              <div class="stock hydra" id="hydra-stock">
                <div class="quantity flex"></div>
              </div>
              <div class="stock fusion" id="fusion-stock">
                <div class="quantity flex"></div>
              </div>
              <div class="stock america" id="america-stock">
                <div class="quantity flex"></div>
              </div>
              <div class="stock sackson" id="sackson-stock">
                <div class="quantity flex"></div>
              </div>
              <div class="stock zeta" id="zeta-stock">
                <div class="quantity flex"></div>
              </div>
            </div>
          </section>
          <section class="tiles">
            <header>TILES</header>
            <div id="tile-container" class="disable-click">
              <div class="tile"></div>
              <div class="tile"></div>
              <div class="tile"></div>
              <div class="tile"></div>
              <div class="tile"></div>
              <div class="tile"></div>
            </div>
          </section>
        </section>
      </section>

      <div id="game-board-container">
        <section id="game-board">
          <div class="space"><span>1</span><span>A</span></div>
          <div class="space"><span>2</span><span>A</span></div>
          <div class="space"><span>3</span><span>A</span></div>
          <div class="space"><span>4</span><span>A</span></div>
          <div class="space"><span>5</span><span>A</span></div>
          <div class="space"><span>6</span><span>A</span></div>
          <div class="space"><span>7</span><span>A</span></div>
          <div class="space"><span>8</span><span>A</span></div>
          <div class="space"><span>9</span><span>A</span></div>
          <div class="space"><span>10</span><span>A</span></div>
          <div class="space"><span>11</span><span>A</span></div>
          <div class="space"><span>12</span><span>A</span></div>
          <div class="space"><span>1</span> <span>B</span></div>
          <div class="space"><span>2</span><span>B</span></div>
          <div class="space"><span>3</span><span>B</span></div>
          <div class="space"><span>4</span><span>B</span></div>
          <div class="space"><span>5</span><span>B</span></div>
          <div class="space"><span>6</span><span>B</span></div>
          <div class="space"><span>7</span><span>B</span></div>
          <div class="space"><span>8</span><span>B</span></div>
          <div class="space"><span>9</span><span>B</span></div>
          <div class="space"><span>10</span><span>B</span></div>
          <div class="space"><span>11</span><span>B</span></div>
          <div class="space"><span>12</span><span>B</span></div>
          <div class="space"><span>1</span><span>C</span></div>
          <div class="space"><span>2</span><span>C</span></div>
          <div class="space"><span>3</span><span>C</span></div>
          <div class="space"><span>4</span><span>C</span></div>
          <div class="space"><span>5</span><span>C</span></div>
          <div class="space"><span>6</span><span>C</span></div>
          <div class="space"><span>7</span><span>C</span></div>
          <div class="space"><span>8</span><span>C</span></div>
          <div class="space"><span>9</span><span>C</span></div>
          <div class="space"><span>10</span><span>C</span></div>
          <div class="space"><span>11</span><span>C</span></div>
          <div class="space"><span>12</span><span>C</span></div>
          <div class="space"><span>1</span><span>D</span></div>
          <div class="space"><span>2</span><span>D</span></div>
          <div class="space"><span>3</span><span>D</span></div>
          <div class="space"><span>4</span><span>D</span></div>
          <div class="space"><span>5</span><span>D</span></div>
          <div class="space"><span>6</span><span>D</span></div>
          <div class="space"><span>7</span><span>D</span></div>
          <div class="space"><span>8</span><span>D</span></div>
          <div class="space"><span>9</span><span>D</span></div>
          <div class="space"><span>10</span><span>D</span></div>
          <div class="space"><span>11</span><span>D</span></div>
          <div class="space"><span>12</span><span>D</span></div>
          <div class="space"><span>1</span><span>E</span></div>
          <div class="space"><span>2</span><span>E</span></div>
          <div class="space"><span>3</span><span>E</span></div>
          <div class="space"><span>4</span><span>E</span></div>
          <div class="space"><span>5</span><span>E</span></div>
          <div class="space"><span>6</span><span>E</span></div>
          <div class="space"><span>7</span><span>E</span></div>
          <div class="space"><span>8</span><span>E</span></div>
          <div class="space"><span>9</span><span>E</span></div>
          <div class="space"><span>10</span><span>E</span></div>
          <div class="space"><span>11</span><span>E</span></div>
          <div class="space"><span>12</span><span>E</span></div>
          <div class="space"><span>1</span><span>F</span></div>
          <div class="space"><span>2</span><span>F</span></div>
          <div class="space"><span>3</span><span>F</span></div>
          <div class="space"><span>4</span><span>F</span></div>
          <div class="space"><span>5</span><span>F</span></div>
          <div class="space"><span>6</span><span>F</span></div>
          <div class="space"><span>7</span><span>F</span></div>
          <div class="space"><span>8</span><span>F</span></div>
          <div class="space"><span>9</span><span>F</span></div>
          <div class="space"><span>10</span><span>F</span></div>
          <div class="space"><span>11</span><span>F</span></div>
          <div class="space"><span>12</span><span>F</span></div>
          <div class="space"><span>1</span><span>G</span></div>
          <div class="space"><span>2</span><span>G</span></div>
          <div class="space"><span>3</span><span>G</span></div>
          <div class="space"><span>4</span><span>G</span></div>
          <div class="space"><span>5</span><span>G</span></div>
          <div class="space"><span>6</span><span>G</span></div>
          <div class="space"><span>7</span><span>G</span></div>
          <div class="space"><span>8</span><span>G</span></div>
          <div class="space"><span>9</span><span>G</span></div>
          <div class="space"><span>10</span><span>G</span></div>
          <div class="space"><span>11</span><span>G</span></div>
          <div class="space"><span>12</span><span>G</span></div>
          <div class="space"><span>1</span><span>H</span></div>
          <div class="space"><span>2</span><span>H</span></div>
          <div class="space"><span>3</span><span>H</span></div>
          <div class="space"><span>4</span><span>H</span></div>
          <div class="space"><span>5</span><span>H</span></div>
          <div class="space"><span>6</span><span>H</span></div>
          <div class="space"><span>7</span><span>H</span></div>
          <div class="space"><span>8</span><span>H</span></div>
          <div class="space"><span>9</span><span>H</span></div>
          <div class="space"><span>10</span><span>H</span></div>
          <div class="space"><span>11</span><span>H</span></div>
          <div class="space"><span>12</span><span>H</span></div>
          <div class="space"><span>1</span><span>I</span></div>
          <div class="space"><span>2</span><span>I</span></div>
          <div class="space"><span>3</span><span>I</span></div>
          <div class="space"><span>4</span><span>I</span></div>
          <div class="space"><span>5</span><span>I</span></div>
          <div class="space"><span>6</span><span>I</span></div>
          <div class="space"><span>7</span><span>I</span></div>
          <div class="space"><span>8</span><span>I</span></div>
          <div class="space"><span>9</span><span>I</span></div>
          <div class="space"><span>10</span><span>I</span></div>
          <div class="space"><span>11</span><span>I</span></div>
          <div class="space"><span>12</span><span>I</span></div>
        </section>
      </div>
      <section class="mobile-tiles-section" id="mobile-tiles"></section>
      <div id="players" class="flex">
        <div class="player" hidden>
          <minidenticon-svg class="avatar"></minidenticon-svg>
          <div class="name"></div>
        </div>
        <div class="player" hidden>
          <minidenticon-svg class="avatar"></minidenticon-svg>
          <div class="name"></div>
        </div>
        <div class="player" hidden>
          <minidenticon-svg class="avatar"></minidenticon-svg>
          <div class="name"></div>
        </div>
        <div class="player" hidden>
          <minidenticon-svg class="avatar"></minidenticon-svg>
          <div class="name"></div>
        </div>
        <div class="player" hidden>
          <minidenticon-svg class="avatar"></minidenticon-svg>
          <div class="name"></div>
        </div>
        <div class="player" hidden>
          <minidenticon-svg class="avatar"></minidenticon-svg>
          <div class="name"></div>
        </div>
      </div>
      <section id="display-panel">
        <input type="button" id="history-button" value="Previous Turn" />
        <div id="history-pane"></div>
        <div id="activity-console"></div>
      </section>
      <div id="info-card" class="hide">
        <div id="info-close-btn">×</div>
        <img src="/images/cards/info-card.svg" alt="info-card" />
      </div>
      
      <nav class="mobile-panel-toggle">
        <button class="mobile-panel-btn" data-panel="corporation">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/>
          </svg>
          Corps
        </button>
        <button class="mobile-panel-btn mobile-mic-btn" id="mobile-voice-toggle">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
          </svg>
          Mic
        </button>
        <button class="mobile-panel-btn" data-panel="portfolio">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
          </svg>
          Portfolio
        </button>
      </nav>
    </div>
    
    <script>
      document.querySelectorAll('.mobile-panel-btn[data-panel]').forEach(btn => {
        btn.addEventListener('click', () => {
          const panel = btn.dataset.panel;
          const section = document.getElementById(panel + '-section');
          const isVisible = section.classList.contains('mobile-visible');
          
          document.querySelectorAll('#corporation-section, #portfolio-section').forEach(s => {
            s.classList.remove('mobile-visible');
          });
          
          if (!isVisible) {
            section.classList.add('mobile-visible');
            
            if (!section.querySelector('.mobile-panel-close')) {
              const closeBtn = document.createElement('button');
              closeBtn.className = 'mobile-panel-close';
              closeBtn.innerHTML = '×';
              closeBtn.onclick = () => section.classList.remove('mobile-visible');
              section.appendChild(closeBtn);
            }
          }
        });
      });
      
      const mobileMicBtn = document.getElementById('mobile-voice-toggle');
      const mainVoiceToggle = document.getElementById('voice-toggle');
      
      if (mobileMicBtn && mainVoiceToggle) {
        mobileMicBtn.addEventListener('click', () => {
          mainVoiceToggle.click();
          mobileMicBtn.classList.toggle('active', mainVoiceToggle.classList.contains('active'));
        });
        
        const observer = new MutationObserver(() => {
          mobileMicBtn.classList.toggle('active', mainVoiceToggle.classList.contains('active'));
        });
        observer.observe(mainVoiceToggle, { attributes: true, attributeFilter: ['class'] });
      }
    </script>
  </body>
</html>
